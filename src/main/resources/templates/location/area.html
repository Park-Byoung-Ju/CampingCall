<!DOCTYPE html>
<html lang="ko" 
    xmlns:th="http://www.thymeleaf.org" 
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
<link rel="stylesheet" href="/static/css/area.css">
<title>Insert title here</title>
</head>
<body>
	<div id="wrap">
		<div class="input-group">
			<div class="input-group-prepend">
				<input id="area" type="text" class="form-control" readonly>
			</div>
			<input id="siGunGu" type="text" class="form-control" readonly>
			<div>
				<button id="inputBtn" class="btn btn-success" type="button">확인</button>
			</div>
		</div>
		
		<div class="d-flex mt-3">
			<nav>
				<ul class="nav flex-column">
					<th:block th:each="area : ${areaList}">
					<li th:id="${area.name}" class="nav-list" th:text="${area.name}" th:data-name="${area.name}" th:data-id="${area.areaCode}">서울</li>
					</th:block>
				</ul>
			</nav>
			
			<th:block th:each="area : ${areaList}">
			<div th:id="${area.areaCode}" class="d-none gray-border flex-option text-center">
				<th:block th:each="siGunGu : ${area.siGunGuList}">
				<div th:text="${siGunGu.name}" class="list gray-border" th:data-name="${siGunGu.name}" th:data-id="${siGunGu.code}">
				
				</div>
				</th:block>
			</div>
			</th:block>
		</div>
	</div>

<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script>
<script>
	$(document).ready(function(){
		$("#1").removeClass("d-none");
		$("#서울").addClass("click-list");
		$("#area").val("서울");
		$("#area").data("id",$("#서울").data("id"));
		
		$(".list").on("click",function(){
			$(".list").removeClass("click-list");
			$(this).addClass("click-list");
			$("#siGunGu").val($(this).data("name"));
			$("#siGunGu").data("id",$(this).data("id"));
		});
		
		$(".nav-list").on("click",function(){
			let id = $(this).data("id");
			let areaId = $("#area").data("id");
			
			$(".nav-list").removeClass("click-list");
			$(this).addClass("click-list");
			$("#" + areaId).addClass("d-none");
			$("#" + id).removeClass("d-none");
			$("#area").val($(this).data("name"));
			$("#area").data("id",$(this).data("id"));
		});
	});
</script>
</body>
</html>